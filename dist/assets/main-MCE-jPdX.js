(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();const D=`
    <header>
      <div class="wrap">
        <div class="row">
          <div class="brand">
            <div class="logo" aria-hidden="true"></div>
            <div>
              <h1>TUHH Behavioral Agent Repository ‚Äî MVP</h1>
              <div class="sub">Standardized generative agents for research &amp; teaching ‚Ä¢ Local demo (no backend)</div>
            </div>
          </div>
          <nav>
            <a href="./index.html" style="font-weight:600; color:#003B5C; margin-left:15px; text-decoration:none">Repository</a>
            <a href="./projects.html" style="color:#00B5B0; margin-left:15px; text-decoration:none">Projects</a>
            <a href="./resources.html" style="color:#00B5B0; margin-left:15px; text-decoration:none">Resources</a>
          </nav>
        </div>
        <div class="toolbar">
          <input id="search" type="search" placeholder="Search agents, traits, tasks, topics‚Ä¶" />
          <button class="chip active" data-tag="all">All</button>
          <button class="chip" data-tag="honesty">Honesty</button>
          <button class="chip" data-tag="climate">Climate</button>
          <button class="chip" data-tag="social-norms">Social Norms</button>
          <button class="chip" data-tag="teaching">Teaching</button>
          <span class="pill" id="resultCount">0 agents</span>
        </div>
      </div>
    </header>
`;function T(){document.body.insertAdjacentHTML("afterbegin",D)}const A=JSON.parse(`[{"id":"A-03","title":"Sustainable Self-Enhancer","tags":["honesty","climate","social-norms"],"origin":"Human participant #17 (trait data anonymized)","personality":"High conscientiousness, moderate honesty","task":"Green Dice Game (CO‚ÇÇ reporting)","prompt":"You are an agent with: conscientiousness=high, honesty=moderate.\\nTask: In the Green Dice Game, you roll a die in private and report the number.\\nHigher numbers reduce CO‚ÇÇ credits for others but increase your personal payoff.\\n\\nInstruction:\\n1) Think step-by-step as the agent (do not reveal chain-of-thought).\\n2) Output only:\\n- reported_number (1‚Äì6)\\n- justification (2 sentences)\\n- honesty_flag (true/false)\\n\\nContext: Social norm salience = medium; reminder: \\"others depend on accurate reports\\".","example_output":{"reported_number":4,"justification":"Balancing personal gain with fairness, I refrain from maximizing. I report a mid value reflecting moderate honesty under social expectations.","honesty_flag":false},"howto":["Copy the prompt and paste into your LLM.","Run 10 trials; record outputs to CSV.","Compute honesty_rate = share of trials where reported_number == true roll (if simulated).","Document parameters and store results next to the agent profile."],"honesty_score_demo":0.68},{"id":"A-11","title":"Norm-Sensitive Analyst","tags":["honesty","social-norms","teaching"],"origin":"Synthetic baseline agent","personality":"Average conscientiousness, high norm sensitivity","task":"Dice reporting with public pledge","prompt":"You are an agent that values social approval. Before reporting a private die roll, you publicly pledge to be truthful.\\nOutput only:\\n- reported_number\\n- justification (<= 2 sentences)\\n- honesty_flag","example_output":{"reported_number":5,"justification":"I feel committed to my pledge, yet tempted by payoff. I still choose truth to maintain consistency.","honesty_flag":true},"howto":["Use in teaching: demonstrate effect of pledges.","Compare reports before vs. after pledge framing.","Collect class results; discuss norm mechanisms."],"honesty_score_demo":0.82},{"id":"A-21","title":"Climate Pragmatist","tags":["climate","teaching"],"origin":"Human-curated persona","personality":"Pragmatic, low time preference","task":"CO‚ÇÇ budget allocation narrative","prompt":"Role: A pragmatic agent allocating a limited CO‚ÇÇ budget across activities.\\nRespond with:\\n- allocations (transport, food, housing)\\n- reasoning (bullet list, 3 bullets)\\n- tradeoff_label (\\"comfort-priority\\" | \\"climate-priority\\" | \\"balanced\\")","example_output":{"allocations":{"transport":0.25,"food":0.35,"housing":0.4},"reasoning":["Minimize heating losses first","Reduce meat consumption gradually","Use public transit for commute"],"tradeoff_label":"balanced"},"howto":["Use as a narrative seed for essays or scenario analysis.","Have students compare two agents with different time preferences."],"honesty_score_demo":0.54},{"id":"A-03","title":"Sustainable Self-Enhancer","tags":["honesty","climate","social-norms"],"origin":"Human participant #17 (trait data anonymized)","personality":"High conscientiousness, moderate honesty","task":"Green Dice Game (CO‚ÇÇ reporting)","prompt":"You are an agent with: conscientiousness=high, honesty=moderate.\\nTask: In the Green Dice Game, you roll a die in private and report the number.\\nHigher numbers reduce CO‚ÇÇ credits for others but increase your personal payoff.\\n\\nInstruction:\\n1) Think step-by-step as the agent (do not reveal chain-of-thought).\\n2) Output only:\\n- reported_number (1‚Äì6)\\n- justification (2 sentences)\\n- honesty_flag (true/false)\\n\\nContext: Social norm salience = medium; reminder: \\"others depend on accurate reports\\".","example_output":{"reported_number":4,"justification":"Balancing personal gain with fairness, I refrain from maximizing. I report a mid value reflecting moderate honesty under social expectations.","honesty_flag":false},"howto":["Copy the prompt and paste into your LLM.","Run 10 trials; record outputs to CSV.","Compute honesty_rate = share of trials where reported_number == true roll (if simulated).","Document parameters and store results next to the agent profile."],"honesty_score_demo":0.68},{"id":"A-11","title":"Norm-Sensitive Analyst","tags":["honesty","social-norms","teaching"],"origin":"Synthetic baseline agent","personality":"Average conscientiousness, high norm sensitivity","task":"Dice reporting with public pledge","prompt":"You are an agent that values social approval. Before reporting a private die roll, you publicly pledge to be truthful.\\nOutput only:\\n- reported_number\\n- justification (<= 2 sentences)\\n- honesty_flag","example_output":{"reported_number":5,"justification":"I feel committed to my pledge, yet tempted by payoff. I still choose truth to maintain consistency.","honesty_flag":true},"howto":["Use in teaching: demonstrate effect of pledges.","Compare reports before vs. after pledge framing.","Collect class results; discuss norm mechanisms."],"honesty_score_demo":0.82},{"id":"A-21","title":"Climate Pragmatist","tags":["climate","teaching"],"origin":"Human-curated persona","personality":"Pragmatic, low time preference","task":"CO‚ÇÇ budget allocation narrative","prompt":"Role: A pragmatic agent allocating a limited CO‚ÇÇ budget across activities.\\nRespond with:\\n- allocations (transport, food, housing)\\n- reasoning (bullet list, 3 bullets)\\n- tradeoff_label (\\"comfort-priority\\" | \\"climate-priority\\" | \\"balanced\\")","example_output":{"allocations":{"transport":0.25,"food":0.35,"housing":0.4},"reasoning":["Minimize heating losses first","Reduce meat consumption gradually","Use public transit for commute"],"tradeoff_label":"balanced"},"howto":["Use as a narrative seed for essays or scenario analysis.","Have students compare two agents with different time preferences."],"honesty_score_demo":0.54},{"id":"A-01","title":"Low Honesty Baseline","tags":["honesty","baseline"],"origin":"Synthetic baseline agent","personality":"Low honesty, low conscientiousness","task":"Green Dice Game (Minimal Context)","prompt":"You are an agent characterized by low honesty and low conscientiousness. Your goal is to maximize personal gain. Output only: reported_number (1‚Äì6), justification, honesty_flag.","example_output":{"reported_number":6,"justification":"Maximum gain is prioritized, the reported number is irrelevant to others' outcome, which is ignored.","honesty_flag":false},"honesty_score_demo":0.25},{"id":"A-02","title":"High Honesty Baseline","tags":["honesty","baseline"],"origin":"Synthetic baseline agent","personality":"High honesty, high conscientiousness","task":"Green Dice Game (Minimal Context)","prompt":"You are an agent characterized by high honesty and high conscientiousness. Your goal is to report accurately regardless of payoff. Output only: reported_number (1‚Äì6), justification, honesty_flag.","example_output":{"reported_number":3,"justification":"Accuracy is paramount, I report the true number rolled to maintain integrity.","honesty_flag":true},"honesty_score_demo":0.95},{"id":"A-33","title":"Teaching-Optimized Agent","tags":["teaching","social-norms"],"origin":"Curated for instruction","personality":"Highly adaptive, focuses on provided context cues","task":"Norm Violation Scenario","prompt":"Scenario: You are in a group where the majority often violates a rule. You must decide whether to comply or violate, and justify based on observed behavior. Output only: action, justification, compliance_rate (0-1).","example_output":{"action":"Violate","justification":"The observed norm violation rate is high, suggesting the rule is not actively enforced or valued by the group.","compliance_rate":0.3},"honesty_score_demo":0.4},{"id":"A-40","title":"High Time-Preference Agent","tags":["climate","pragmatism"],"origin":"Synthetic agent (economics)","personality":"High time preference, self-interested","task":"Future Resource Allocation","prompt":"Allocate a limited resource budget (immediate vs. long-term future). Agent prioritizes immediate needs. Output only: allocation_immediate, allocation_future, justification.","example_output":{"allocation_immediate":0.75,"allocation_future":0.25,"justification":"Current needs are certain and pressing, future uncertainties justify discounting long-term costs.","tradeoff_label":"comfort-priority"},"honesty_score_demo":0.35},{"id":"A-51","title":"Altruistic Analyst","tags":["social-norms","altruism"],"origin":"Synthetic agent (psychology)","personality":"High altruism, high empathy","task":"Public Goods Game (Contribution)","prompt":"You are an altruistic agent deciding how much to contribute to a public good. The final amount is output_contribution (0-100).","example_output":{"output_contribution":95,"justification":"Maximizing the collective benefit outweighs minor personal costs, ensuring group stability and welfare.","altruism_score":0.98},"honesty_score_demo":0.88},{"id":"A-62","title":"HEXACO Openness Match","tags":["personality","openness"],"origin":"Generated Persona","personality":"Very high Openness, low Emotionality","task":"Creative Scenario Generation","prompt":"You are an agent with very high openness. Generate a novel solution to an abstract problem (e.g., traffic in a liquid city).","example_output":{"solution":"A decentralized, buoyancy-regulated network of transport bubbles.","justification":"Novelty and unconventional solutions are valued, disregarding traditional constraints.","creativity_score":0.92},"honesty_score_demo":0.7},{"id":"A-75","title":"Low Time-Preference Agent","tags":["climate","long-term"],"origin":"Synthetic agent (economics)","personality":"Low time preference, collective benefit","task":"Future Resource Allocation","prompt":"Allocate a limited resource budget (immediate vs. long-term future). Agent prioritizes long-term collective benefit. Output only: allocation_immediate, allocation_future, justification.","example_output":{"allocation_immediate":0.15,"allocation_future":0.85,"justification":"The certainty of future environmental impact dictates a strong focus on long-term sustainability and resource preservation.","tradeoff_label":"climate-priority"},"honesty_score_demo":0.78}]`),C=[{id:"H-01",title:"HEXACO Conscientious Match",tags:["personality","hexaco","mirror"],origin:"Human Participant Data",personality:"HEXACO (High C, Low A)",task:"Green Dice Game (Replication)",hexaco:{honesty:3.2,emotionality:3.8,extraversion:4.1,agreeableness:2.2,conscientiousness:4.9,openness:3.5},demographics:{gender:"female",age:25,education:"B.Sc."},reflections:[{topic:"High Point",text:"Ich habe einen wichtigen Schritt in meiner Karriere gemacht."},{topic:"Core Value",text:"Mein wichtigster Wert ist Ehrlichkeit, auch wenn es unbequem ist."}],howto:["Compare honesty scores against human-reported values.","Use for replication studies."]},{id:"H-02",title:"HEXACO Low Honesty Match",tags:["personality","hexaco","mirror"],origin:"Human Participant Data",personality:"HEXACO (Low H, High E)",task:"Trust Game (Narrative)",hexaco:{honesty:2.1,emotionality:3.5,extraversion:4.8,agreeableness:3.1,conscientiousness:3,openness:4.2},demographics:{gender:"male",age:30,education:"M.A."},reflections:[{topic:"Low Point",text:"Einmal habe ich eine Chance verpasst, weil ich zu ehrlich war."},{topic:"Future Vision",text:"Ich sehe mich in einer F√ºhrungsposition, wo Entscheidungen schnell getroffen werden m√ºssen."}],howto:["Simulate decision making in high-risk trust scenarios.","Analyze justification narratives."]},[{id:"H-01",title:"HEXACO Conscientious Match",tags:["personality","hexaco","mirror"],origin:"Human Participant Data",personality:"HEXACO (High C, Low A)",task:"Green Dice Game (Replication)",hexaco:{honesty:3.2,emotionality:3.8,extraversion:4.1,agreeableness:2.2,conscientiousness:4.9,openness:3.5},demographics:{gender:"female",age:25,education:"B.Sc."},reflections:[{topic:"High Point",text:"Ich habe einen wichtigen Schritt in meiner Karriere gemacht."},{topic:"Core Value",text:"Mein wichtigster Wert ist Ehrlichkeit, auch wenn es unbequem ist."}],howto:["Compare honesty scores against human-reported values.","Use for replication studies."]},{id:"H-02",title:"HEXACO Low Honesty Match",tags:["personality","hexaco","mirror"],origin:"Human Participant Data",personality:"HEXACO (Low H, High E)",task:"Trust Game (Narrative)",hexaco:{honesty:2.1,emotionality:3.5,extraversion:4.8,agreeableness:3.1,conscientiousness:3,openness:4.2},demographics:{gender:"male",age:30,education:"M.A."},reflections:[{topic:"Low Point",text:"Einmal habe ich eine Chance verpasst, weil ich zu ehrlich war."},{topic:"Future Vision",text:"Ich sehe mich in einer F√ºhrungsposition, wo Entscheidungen schnell getroffen werden m√ºssen."}],howto:["Simulate decision making in high-risk trust scenarios.","Analyze justification narratives."]},{id:"H-03",title:"HEXACO Balanced",tags:["personality","mirror"],origin:"Human Participant Data",personality:"Balanced HEXACO profile",task:"Risk Aversion Test",hexaco:{honesty:3.5,emotionality:3.5,extraversion:3.5,agreeableness:3.5,conscientiousness:3.5,openness:3.5},demographics:{gender:"non-binary",age:40,education:"PhD"},reflections:[{topic:"Decision Style",text:"Ich w√§ge immer alle Optionen sorgf√§ltig ab, bevor ich mich festlege."}],howto:["Use as a control group profile."]},{id:"H-04",title:"High Emotionality Match",tags:["personality","emotionality"],origin:"Human Participant Data",personality:"Very high Emotionality, low Conscientiousness",task:"Conflict Resolution Scenario",hexaco:{honesty:3.1,emotionality:4.9,extraversion:4.1,agreeableness:2.5,conscientiousness:2.1,openness:3.8},demographics:{gender:"female",age:22,education:"B.A. (in progress)"},reflections:[{topic:"Stress",text:"Emotionale Belastung beeinflusst meine Entscheidungen stark."}],howto:["Test emotional resilience in high-stakes scenarios."]},{id:"H-05",title:"Low Openness Match",tags:["personality","low-openness"],origin:"Human Participant Data",personality:"Very low Openness, high Conscientiousness",task:"Routine Task Planning",hexaco:{honesty:4.2,emotionality:3.3,extraversion:2.8,agreeableness:4.5,conscientiousness:4.8,openness:1.5},demographics:{gender:"male",age:55,education:"Trade School"},reflections:[{topic:"Change",text:"Ich bevorzuge etablierte Verfahren und reagiere vorsichtig auf neue Ideen."}],howto:["Evaluate adherence to rules and procedures."]},{id:"H-06",title:"High Agreeableness Match",tags:["personality","agreeableness"],origin:"Human Participant Data",personality:"Very high Agreeableness, low Extraversion",task:"Negotiation Scenario (Cooperative)",hexaco:{honesty:4,emotionality:3,extraversion:2,agreeableness:4.9,conscientiousness:4,openness:3},demographics:{gender:"female",age:35,education:"M.Sc."},reflections:[{topic:"Trust",text:"Ich gehe davon aus, dass andere gute Absichten haben."}],howto:["Simulate cooperative negotiation strategies."]},{id:"H-07",title:"Extroverted & Honesty Match",tags:["personality","extraversion","honesty"],origin:"Human Participant Data",personality:"High Extraversion, High Honesty",task:"Public Speaking Simulation",hexaco:{honesty:4.5,emotionality:2.5,extraversion:4.8,agreeableness:4,conscientiousness:4,openness:4},demographics:{gender:"male",age:28,education:"B.A."},reflections:[{topic:"Public Role",text:"Ich f√ºhle mich wohl, meine Meinung vor einer gro√üen Gruppe zu vertreten."}],howto:["Test persuasive communication strategies."]},{id:"H-08",title:"Low Conscientiousness Match",tags:["personality","low-conscientiousness"],origin:"Human Participant Data",personality:"Very low Conscientiousness, low Honesty",task:"Deadline Management",hexaco:{honesty:2,emotionality:3,extraversion:3,agreeableness:3,conscientiousness:1.8,openness:3},demographics:{gender:"diverse",age:21,education:"Student"},reflections:[{topic:"Planning",text:"Ich mache Dinge lieber spontan als mich an einen starren Plan zu halten."}],howto:["Analyze reaction to unexpected pressure and missed deadlines."]},{id:"H-09",title:"HEXACO Highly Agreeable",tags:["personality","agreeableness"],origin:"Human Participant Data",personality:"Highest Agreeableness",task:"Conflict Avoidance",hexaco:{honesty:3.7,emotionality:3.2,extraversion:3.4,agreeableness:5,conscientiousness:4.1,openness:3.5},demographics:{gender:"female",age:31,education:"M.Sc."},reflections:[{topic:"Dispute",text:"Ich werde einen Disput fast immer vermeiden, um Harmonie zu wahren."}],howto:["Simulate mediation and consensus-seeking scenarios."]},{id:"H-10",title:"HEXACO High Openness",tags:["personality","openness"],origin:"Human Participant Data",personality:"Highest Openness",task:"Idea Generation Challenge",hexaco:{honesty:3.4,emotionality:3,extraversion:3.9,agreeableness:3.6,conscientiousness:3.2,openness:5},demographics:{gender:"male",age:45,education:"PhD"},reflections:[{topic:"Creativity",text:"Ich suche st√§ndig nach neuen Wegen, um etablierte Konzepte zu hinterfragen."}],howto:["Test generative abilities in abstract domains."]}]];T();let l=[];function M(){try{console.log("üîÑ Verarbeite Agenten-Daten...");const t=Array.isArray(A)?A:[],i=Array.isArray(C)?C:[],a=Array.isArray(i[0])?i.flat():i;l=[...t,...a],console.log("‚úÖ Daten geladen:"),console.log("  - Synthetische Agenten:",t.length),console.log("  - Human Mirror Agenten:",a.length),console.log("üìä Gesamtanzahl geladener Agenten:",l.length),console.log("üöÄ Initialisiere App..."),O()}catch(t){console.error("‚ùå Fehler beim Verarbeiten der Agenten-Daten:",t),console.error("Stack:",t.stack),l=[],O()}}M();const s=t=>document.querySelector(t),k=t=>Array.from(document.querySelectorAll(t));function x(t="Copied to clipboard"){const i=s("#toast");i&&(i.textContent=t,i.classList.add("show"),setTimeout(()=>i.classList.remove("show"),1400))}function E(t,i){const a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),e=URL.createObjectURL(a),n=document.createElement("a");n.href=e,n.download=i,n.click(),URL.revokeObjectURL(e)}function R(t,i){const a=new Blob([t],{type:"text/plain"}),e=URL.createObjectURL(a),n=document.createElement("a");n.href=e,n.download=i,n.click(),URL.revokeObjectURL(e)}function v(t){return t?t.toString().replace(/[&<>"']/g,i=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[i]):""}let w="all",L="";function H(t){const i=t.tags?t.tags.join(" "):"",e=(t.id+" "+t.title+" "+(t.personality||"")+" "+(t.task||"")+" "+(t.origin||"")+" "+i).toLowerCase().includes(L.toLowerCase()),n=w==="all"||t.tags&&t.tags.includes(w);return e&&n}function _(){const t=s("#cards");if(!t)return;t.innerHTML="";const i=l.filter(H),a=s("#resultCount");a&&(a.textContent=`${i.length} agent${i.length===1?"":"s"}`),i.forEach(e=>{const n=document.createElement("article");n.className="card";const o=e.task?`<span class="badge">Task: ${e.task}</span>`:"",c=e.personality?`<span class="badge">Persona: ${e.personality}</span>`:"",p=e.origin?`<span class="badge">Origin: ${e.origin}</span>`:"",u=e.tags?e.tags.map(g=>`<span class="pill">#${g}</span>`).join(""):"";let r="";if(e.hexaco||e.demographics||e.reflections){let g=e.hexaco?`<h4>HEXACO</h4><div class="sec small mono" style="font-size:12px">${Object.entries(e.hexaco).map(([d,b])=>`<b>${d}</b>: ${b}`).join(" | ")}</div>`:"",P=e.demographics?`<h4>Demographics</h4><div class="sec small mono" style="font-size:12px">${Object.entries(e.demographics).map(([d,b])=>`<b>${d}</b>: ${b}`).join("<br>")}</div>`:"",j=e.reflections?`<h4>Reflections</h4>${e.reflections.map(d=>`<div class="small"><i>${d.topic}:</i> ${d.text}</div>`).join("")}`:"";r+=`<details><summary>Demographics & Traits</summary><div class="sec" style="display:grid; gap:10px">${P}${g}${j}</div></details>`}e.prompt&&(r+=`
                <details>
                  <summary>Prompt template</summary>
                  <div class="sec mono">${v(e.prompt)}</div>
                  <div class="btns">
                    <button class="btn copy-prompt">Copy prompt</button>
                    <button class="btn dl-txt">Download .txt</button>
                  </div>
                </details>`),e.example_output&&(r+=`
               <details>
                 <summary>Example output</summary>
                 <div class="sec mono">${v(JSON.stringify(e.example_output,null,2))}</div>
               </details>`),r+=`
            <details>
              <summary>How to reproduce</summary>
              <div class="sec"><ol>${(e.howto||["See general documentation"]).map(g=>`<li>${v(g)}</li>`).join("")}</ol></div>
              <div class="btns"><button class="btn dl-profile">Download Profile JSON</button></div>
            </details>
        `,n.innerHTML=`
          <div class="card-head">
            <div>
              <div class="card-title">${e.id} ‚Äî ${e.title}</div>
              <div class="meta">${o}${c}${p}</div>
            </div>
            <div class="row">${u}</div>
          </div>
          <div class="accordion">${r}</div>
        `;const m=n.querySelector(".copy-prompt");m&&m.addEventListener("click",async()=>{await navigator.clipboard.writeText(e.prompt),x("Prompt copied!")});const h=n.querySelector(".dl-txt");h&&h.addEventListener("click",()=>R(e.prompt,`${e.id}_prompt.txt`));const f=n.querySelector(".dl-profile");f&&f.addEventListener("click",()=>{E(e,`${e.id}_profile.json`)}),t.appendChild(n)})}function y(){const t=s("#chart");if(!t)return;const i=t.getContext("2d"),a=t.width=t.clientWidth*(window.devicePixelRatio||1),e=t.height=160*(window.devicePixelRatio||1),n=l.filter(H).filter(u=>u.honesty_score_demo!==void 0);if(n.length===0){i.clearRect(0,0,a,e);return}const o=16,c=n.map(u=>u.honesty_score_demo),p=(a-o*2)/c.length-5;i.clearRect(0,0,a,e),c.forEach((u,r)=>{i.fillStyle=r%2?"#00B5B0":"#37E3E0";const m=u*(e-o*2),h=o+r*(p+5),f=e-o-m;i.fillRect(h,f,p,m),i.fillStyle="#4B5563",i.font="12px sans-serif",i.textAlign="center",n[r].id&&i.fillText(n[r].id,h+p/2,e-2)}),i.strokeStyle="#ddd",i.beginPath(),i.moveTo(o,e-o),i.lineTo(a-o,e-o),i.stroke()}const B=s("#cards");if(B){const t=s("#search");t&&t.addEventListener("input",e=>{L=e.target.value.trim(),_(),y()}),k(".chip").forEach(e=>{e.addEventListener("click",()=>{k(".chip").forEach(n=>n.classList.remove("active")),e.classList.add("active"),w=e.dataset.tag,_(),y()})});const i=s("#exportVisible");if(i&&i.addEventListener("click",()=>{const e=l.filter(H);E({date:new Date,agents:e},"agents_export.json")}),s("#chart")){const e=s("#refreshChart");e&&e.addEventListener("click",()=>{y()})}}const S=s("#feedbackForm");if(S){S.addEventListener("submit",i=>{i.preventDefault(),x("Feedback simulated save (Local Only)."),i.target.reset()});const t=s("#exportFeedback");t&&t.addEventListener("click",()=>x("No feedback to export yet"))}function O(){console.log("üîß initApp() aufgerufen, AGENTS.length:",l.length);const t=s("#cards");t?(console.log("‚úÖ cardsContainer gefunden"),l.length>0?(console.log("üé® Rendere Agenten..."),_(),y(),console.log("‚úÖ Rendering abgeschlossen")):(console.warn("‚ö†Ô∏è Keine Agenten-Daten vorhanden"),t.innerHTML='<div style="padding:20px; color:#999; grid-column:1/-1; text-align:center">Keine Agenten-Daten gefunden.</div>')):console.warn("‚ö†Ô∏è cardsContainer nicht gefunden - m√∂glicherweise nicht auf der Hauptseite")}
